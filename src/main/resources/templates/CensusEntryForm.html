<!doctype html>
<html lang="en" xmlns:th="www.thymeleaf.org">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.css"
		integrity="sha512-RWhcC19d8A3vE7kpXq6Ze4GcPfGe3DQWuenhXAbcGiZOaqGojLtWwit1eeM9jLGHFv8hnwpX3blJKGjTsf2HxQ=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<div th:replace="fragments/links :: cssLink"></div>





	<title>CensusForm</title>


	<style>
		.select2-container .select2-selection--single {
			height: 40px !important;

		}

		.select2-container--default .select2-selection--single {
			border: 1px solid #ccc !important;
			border-radius: 0px !important;
		}

		#sidebar ul li {
			color: white;
			display: block;
		}
	</style>

</head>

<body>

	<div class="wrapper">
		<span th:remove="tag" th:utext="${dataHtml}"></span>
		<div class="container-fluid mw-100 py-2 h-100">
			<div th:replace="fragments/sidebar :: header"></div>

			<!--Start First Part -->

			<div class="card text-center">

				<fieldset class="form-group text-left border p-3">
					<legend class="w-auto px-2"><strong>Consumer Census Entry(BC_CONSCEN)</strong></legend>

					<div class="row  text-black">
						<label class="col-lg-1" for="location">Location &nbsp </label>
						<div class="col-md-2 mb-2 input-group search_select_box ">
							<select name="locationOption" id="locationOption"
								class="form-control search_select_box select_supplyType">
								<option value="">Select Zone </option>
								<option th:each="location : ${dPD_LOCATION_LIST}" th:value="${location.LOCATION_CODE}"
									th:text="${location.LOCATION_NAME}"></option>
							</select>
						</div>
						<label class="col-lg-1" for="supplyType">Zone &nbsp</label>
						<div class="col-md-1 mb-2">

							<div class="input-group">

								<input type="text" id="zone" readonly class="form-control form-control-lg" />
							</div>

						</div>
						<label class="form-label col-lg-1" for="circle">Circle &nbsp</label>
						<div class="col-md-1 mb-4">

							<div class="input-group">




								<input type="text" id="circle" readonly class="form-control  form-control-lg" />
							</div>

						</div>
						<label class="form-label col-lg-1" for="Div">Div &nbsp</label>
						<div class="col-md-1 mb-4">


							<div class="input-group">


								<input type="text" id="Div" readonly class="form-control form-control-lg" />
							</div>

						</div>
						<label class="form-label col-lg-1" for="sub_div">Sub Div &nbsp</label>
						<div class="col-md-2 mb-4">

							<div class="input-group">

								<input type="text" id="sub_div" readonly class="form-control form-control-lg" />
							</div>

						</div>

						<label class="form-label col-lg-1 " for="book_no">Book No &nbsp</label>
						<div class="col-md-1 mb-4">

							<div class="input-group">

								<input type="text" id="book_no" class="form-control fcs form-control-lg" />
							</div>

						</div>
						<label class="form-label col-lg-1" for="billGrp">BillGrp &nbsp</label>
						<div class="col-md-1 mb-4">

							<div class="input-group">

								<input type="text" id="billGrp" readonly class="form-control form-control-lg" />
							</div>

						</div>



						<label class=" col-lg-1" for="supplyType">Cons. Source &nbsp</label>
						<div class="col-3 mb-2 ">
							<select class="form-select form-select-sm" aria-label=".form-select-sm example">
								<option selected value="N">New consumers</option>
								<option value="F">Census consumers</option>
								<option value="M">Migrated consumers</option>
								<option value="L">Additional meter</option>
							</select>
						</div>


						<label class="form-label col-lg-1 " for="walkOrder">Walk. Order
							&nbsp</label>
						<div class="col-md-3 mb-4">

							<div class="input-group">


								<input type="text" id="walkOrder" class="form-control fcs form-control-lg" />
							</div>

						</div>
						<label class="form-label col-lg-1 " for="conSrlNo">ConSrl No. &nbsp</label>
						<div class="col-md-1 mb-4">

							<div class="input-group">

								<input type="text" id="conSrlNo" class="form-control form-control-lg fcs" />
							</div>

						</div>
						<label class="col-lg-1" for="supplyType">Govt. Flat &nbsp</label>
						<div class="col-md-1 mb-4">
							<div class="input-group">
								<select class="form-select" aria-label="Default select example">
									<option value="0" selected>No</option>
									<option value="1">Yes</option>
								</select>
							</div>
						</div>
						<label class="form-label col-lg-1" for="oldAcNo">Old A/C No. &nbsp</label>
						<div class="col-md-3 mb-4">
							<div class="input-group">
								<input type="text" id="oldAcNo" class="form-control fcs form-control-lg" />
							</div>

						</div>
						<label class="form-label col-lg-1" for="computerConsNo">Computer Cons No. &nbsp</label>
						<div class="col-md-3 mb-4">

							<div class="input-group">


								<input type="text" id="computerConsNo" readonly class="form-control form-control-lg" />
							</div>

						</div>






					</div>

				</fieldset>

				<fieldset class="form-group text-left border p-3">
					<legend class="w-auto px-2"><strong>Coustomer Details</strong></legend>
					<div class="row  text-black">

						<label class="form-label col-lg-2" for="coustomerName">Coustomer Name &nbsp</label>
						<div class="col-md-10 mb-4">

							<div class="input-group">

								<input type="text" id="coustomerName" class="form-control fcs form-control-lg" />
							</div>

						</div>
						<label class="form-label col-lg-2" for="fatherHusband">Father/Husband Name:&nbsp</label>
						<div class="col-md-10 mb-4">

							<div class="input-group">

								<input type="text" id="fatherHusband" class="form-control fcs form-control-lg" />
							</div>
						</div>
						<label class="form-label col-lg-2" for="serviceAddress">Service Address:
							&nbsp</label>
						<div class="col-md-4 mb-4">

							<div class="input-group">

								<input type="text" id="serviceAddress" class="form-control fcs form-control-lg" />
							</div>
						</div>
						<label class="form-label col-lg-2" for="mailingAddress"> Address &nbsp</label>
						<div class="col-md-4 mb-4">

							<div class="input-group">

								<input readonly type="text" id="mailingAddress" class="form-control fcs form-control-lg" />
							</div>
						</div>
						<label class="form-label col-lg-2" for="city">City &nbsp</label>
						<div class="col-md-4 mb-4">

							<div class="input-group">

								<input type="text" id="city" class="form-control fcs form-control-lg" />
							</div>
						</div>
						<label class="form-label col-lg-2" for="cityReadOnly">City &nbsp</label>
						<div class="col-md-4 mb-4">

							<div class="input-group">

								<input type="text" id="cityReadOnly" readonly class="form-control form-control-lg" />

							</div>
						</div>
						
						<label class="form-label col-lg-2" for="postalCode">Postal code &nbsp</label>
						<div class="col-md-4 mb-4">

							<div class="input-group">

								<input type="text" id="postalCode" class="form-control fcs form-control-lg" />
							</div>
						</div>
						<label class="form-label col-lg-2" for="postalCodeReadOnly">Postal code
							&nbsp</label>
						<div class="col-md-4 mb-4">

							<div class="input-group">

								<input type="text" id="postalCodeReadOnly" readonly
									class="form-control  form-control-lg" />
							</div>
						</div>
						<label class="form-label col-lg-2" for="BankCode(1)">Bank Code(1)
							&nbsp</label>
						<div class="col-md-4 mb-4">

							<div class="input-group">

								<input type="text" id="BankCode(1)" class="form-control fcs form-control-lg" />
							</div>
						</div>
						<label class="form-label col-lg-2" for="BankCode(2)">Bank Code(2) &nbsp</label>
						<div class="col-md-4 mb-4">

							<div class="input-group">

								<input type="text" id="BankCode(2)" class="form-control fcs form-control-lg" />
							</div>
						</div>
						<label class="form-label col-lg-2" for="branchCode(1)">Branch Code(1)
							&nbsp</label>
						<div class="col-md-4 mb-4">

							<div class="input-group">

								<input type="text" id="branchCode(1)" class="form-control fcs form-control-lg" />
							</div>
						</div>
						<label class="form-label col-lg-2" for="branchCode(2)">Branch Code(2)
							&nbsp</label>
						<div class="col-md-4 mb-4">
							<div class="input-group"><input type="text" id="branchCode(2)"
									class="form-control fcs form-control-lg" />
							</div>
						</div>


						<div class="col-12 text-right">
							<div class="btn-group border-black " style="display: inline;" role="group"
								aria-label="Basic example">
								<button type="button" class="btn btn-primary"
									th:onclick="|window.location.href='/meterDetailsForm'|">MeterDetails</button>
								<button type="button" class="btn btn-primary"
									th:onclick="|window.location.href='/distribution'|">Distribution</button>
							</div>
						</div>
					</div>
				</fieldset>
			</div>
		</div>
	</div>










	<!-- JavaScript -->
	<div th:replace="fragments/links :: javaScriptLink"></div>

	<script>


		$('.select_supplyType').select2();


	</script>

	<!-- 		location dropdown starts  -->
	<script>

		$("#locationOption").change(function () {
			var x = $("#locationOption").val();
			var url = "/api/location/" + x;
			console.log(url);
			$.ajax({
				method: "GET",
				url: url
			})
				.done(function (JsonData) {
					const zone = JsonData.zone;
					const sub_DIV = JsonData.sub_DIV;
					const div = JsonData.div;
					const circle = JsonData.circle;

					document.getElementById("zone").value = zone;
					document.getElementById("sub_div").value = sub_DIV;
					document.getElementById("Div").value = div;
					document.getElementById("circle").value = circle;

				});
		});



	</script>
	<script>

		$("#book_no").change(function () {
			var bid = $("#book_no").val();
			var lid = $("#locationOption").val();
			var url = "/api/billGrp/" + lid + "/" + bid;
			console.log(url);
			$.ajax({
				method: "GET",
				url: url
			})
				.done(function (JsonData) {
					document.getElementById("billGrp").value = JsonData;
				});
		});


	</script>

	<script>
		$(document).ready(function () {
			$("#serviceAddress").keyup(function () {
				var serviceAddress = document.getElementById('serviceAddress').value;
				document.getElementById("mailingAddress").value = serviceAddress;
			});
		});
		$(document).ready(function () {
			$("#city").keyup(function () {
				var serviceAddress = document.getElementById('city').value;
				document.getElementById("cityReadOnly").value = serviceAddress;
			});
		});
		$(document).ready(function () {
			$("#postalCode").keyup(function () {
				var serviceAddress = document.getElementById('postalCode').value;
				document.getElementById("postalCodeReadOnly").value = serviceAddress;
			});
		});
	</script>
	<script src=https://code.jquery.com/jquery-3.6.0.slim.min.js></script>
	<script src="../../../../js/jquery.fcs.js"></script>
	<script src="../../../../js/jquery.fcs.min.js"></script>
	<script>

		jQuery(document).ready(function ($) {
			$("#first-element").focus();
			$(document).fcs(".fcs");
		});
	</script>

	<!-- 		location dropdown ends  -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
		integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.js"
		integrity="sha512-9CWGXFSJ+/X0LWzSRCZFsOPhSfm6jbnL+Mpqo0o8Ke2SYr8rCTqb4/wGm+9n13HtDE1NQpAEOrMecDZw4FXQGg=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>

</html>