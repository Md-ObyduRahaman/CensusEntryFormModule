<!doctype html>
<html lang="en" xmlns:th="www.thymeleaf.org">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.css"
		integrity="sha512-RWhcC19d8A3vE7kpXq6Ze4GcPfGe3DQWuenhXAbcGiZOaqGojLtWwit1eeM9jLGHFv8hnwpX3blJKGjTsf2HxQ=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
		
	<div th:replace="fragments/links :: cssLink"></div>





	<title>CensusForm</title>


	<style>
		.select2-container .select2-selection--single {
			height: 40px !important;

		}

		.select2-container--default .select2-selection--single {
			border: 1px solid #ccc !important;
			border-radius: 0px !important;
		}

		#sidebar ul li {
			color: white;
			display: block;
		}
			/* Chrome, Safari, Edge, Opera */
		input::-webkit-outer-spin-button,
		input::-webkit-inner-spin-button {
			-webkit-appearance: none;
			margin: 0;
		}

		/* Firefox */
		input[type=number] {
			-moz-appearance: textfield;
		}
	</style>

</head>

<body>

	<div class="wrapper">
		<span th:remove="tag" th:utext="${dataHtml}"></span>
		<div class="container-fluid mw-100 py-2 h-100">
			<div th:replace="fragments/sidebar :: header"></div>

			<div class="alert alert-success mt-1 col-sm-12 text-center" th:text="${msg}" th:if="${msg}" role="alert">
			</div>

			<!--Start First Part -->

			<div class="card text-center">
				<form th:action="@{/DATA_ENTRY_LT}" method="post" th:object="${censusFormModel}">

					<fieldset class="form-group text-left border p-3">
						<legend class="w-auto px-2"><strong>Consumer Census Entry</strong></legend>

						<div class="row  text-black">
							<label class="col-lg-1" for="location">Location &nbsp </label>
							<div class="col-md-2 mb-2 input-group search_select_box ">
								<select required name="LOCATION_CODE" id="locationOption"
									class="form-control search_select_box select_supplyType ">
									<option value="">Select Zone </option>
									<option th:each="location : ${dPD_LOCATION_LIST}"
										th:value="${location.LOCATION_CODE}" th:text="${location.LOCATION_NAME}">
									</option>
								</select>
							</div>
							<label class="col-lg-1" for="supplyType">Zone &nbsp</label>
							<div class="col-md-1 mb-2">

								<div class="input-group">

									<input type="text" name="ZONE" id="zone" readonly
										class="form-control form-control-lg" />
								</div>

							</div>
							<label class="form-label col-lg-1" for="circle">Circle &nbsp</label>
							<div class="col-md-1 mb-4">

								<div class="input-group">




									<input type="text" id="circle" name="CIRCLE" readonly
										class="form-control  form-control-lg" />
								</div>

							</div>
							<label class="form-label col-lg-1" for="Div">Div &nbsp</label>
							<div class="col-md-1 mb-4">


								<div class="input-group">


									<input type="text" id="Div" name="DIVISION" readonly
										class="form-control form-control-lg" />
								</div>

							</div>
							<label class="form-label col-lg-1" for="sub_div">Sub Div &nbsp</label>
							<div class="col-md-2 mb-4">

								<div class="input-group">

									<input type="text" id="sub_div" readonly class="form-control form-control-lg" />
								</div>

							</div>

							<label class="form-label col-lg-1 " for="book_no">Book No &nbsp</label>
							<div class="col-md-1 mb-4">

								<div class="input-group">

									<input type="text" id="book_no" class="form-control fcs form-control-lg" />
								</div>

							</div>
							<label class="form-label col-lg-1" for="billGrp">BillGrp &nbsp</label>
							<div class="col-md-1 mb-4">

								<div class="input-group">

									<input type="text" id="billGrp" name="BILL_GRP" readonly
										class="form-control form-control-lg" />
								</div>

							</div>



							<label class=" col-lg-2" for="supplyType">Cons. Source &nbsp</label>
							<div class="col-sm-3 mb-2 ">
								<select name="CONSUMER_STATUS" id="CONSUMER_STATUS" class="form-select form-select-sm"
									aria-label=".form-select-sm example">
									<option selected value="N">New consumers</option>

									<option value="L">Additional meter</option>
								</select>
							</div>


							<label class="form-label col-lg-1 " for="walkOrder">Walk. Order
								&nbsp</label>
							<div class="col-md-2 mb-4">

								<div class="input-group">


									<input type="text" name="WALKING_SEQUENCE" required pattern=".{4,4}" maxlength="4"
										id="walkOrder" class="form-control fcs form-control-lg" />
								</div>

							</div>
							<label class="form-label col-lg-2 " for="conSrlNo">ConSrl No. &nbsp</label>
							<div class="col-md-2 mb-4">

								<div class="input-group">

									<input type="text" id="conSrlNo" name="CONS_SRL_NO" required maxlength="4"
										class="form-control form-control-lg fcs" />
								</div>

							</div>
							<label class="col-lg-2" for="supplyType">Govt. Flat &nbsp</label>
							<div class="col-md-1 mb-4">
								<div class="input-group">
									<select name="CONSUMER_FLAG" class="form-select"
										aria-label="Default select example">
										<option value="0" selected>No</option>
										<option value="1">Yes</option>
									</select>
								</div>
							</div>
							<label class="form-label col-lg-2" for="oldAcNo">Old A/C No. &nbsp</label>
							<div class="col-md-2 mb-4">
								<div class="input-group">
									<input name="OLD_TRANS_CONNECTION_ID" type="text" id="oldAcNo"
										class="form-control fcs form-control-lg" />
								</div>

							</div>
							<label class="form-label col-lg-2" for="computerConsNo">Computer Cons No. &nbsp</label>
							<div class="col-md-2 mb-4">

								<div class="input-group">


									<input type="text" id="computerConsNo" name="" readonly
										class="form-control form-control-lg" />
								</div>

							</div>






						</div>

					</fieldset>

					<fieldset class="form-group text-left border p-3">
						<legend class="w-auto px-2"><strong>Customer Details</strong></legend>
						<div class="row  text-black">

							<label class="form-label col-lg-2" for="coustomerName">Customer Name &nbsp</label>
							<div class="col-md-10 mb-4">

								<div class="input-group">

									<input type="text" maxlength="40" id="coustomerName"
										oninput="this.value = this.value.toUpperCase()" name="CUSTOMER_NAME"
										class="form-control fcs form-control-lg" />
								</div>

							</div>
							<label class="form-label col-lg-2" for="fatherHusband">Father/Husband Name:&nbsp</label>
							<div class="col-md-10 mb-4">

								<div class="input-group">

									<input type="text" id="fatherHusband" name="F_H_NAME" maxlength="40"
										class="form-control fcs form-control-lg" />
								</div>
							</div>
							<label class="form-label col-lg-2" for="serviceAddress">Service Address:
								&nbsp</label>
							<div class="col-md-4 mb-4">

								<div class="input-group">

									<input type="text" id="serviceAddress" name="SERV_ADDR_DESCR1"
										class="form-control fcs form-control-lg" />
								</div>
							</div>
							<label class="form-label col-lg-2" for="mailingAddress"> Address &nbsp</label>
							<div class="col-md-4 mb-4">

								<div class="input-group">

									<input readonly name="MAIL_ADDR_DESCR1" type="text" id="mailingAddress"
										class="form-control  form-control-lg" />
								</div>
							</div>
							<label class="form-label col-lg-2" for="city">City &nbsp</label>
							<div class="col-md-4 mb-4">

								<div class="input-group">

									<input type="text" id="city" name="MAIL_CITY"
										class="form-control fcs form-control-lg" />
								</div>
							</div>
							<label class="form-label col-lg-2" for="cityReadOnly">City &nbsp</label>
							<div class="col-md-4 mb-4">

								<div class="input-group">

									<input type="text" id="cityReadOnly" name="SERV_CITY" readonly
										class="form-control form-control-lg" />

								</div>
							</div>

							<label class="form-label col-lg-2" for="postalCode">Postal code &nbsp</label>
							<div class="col-md-4 mb-4">

								<div class="input-group">

									<input type="number" id="postalCode" min="1000" max="9999" name="MAIL_PIN_CODE" required
										class="form-control fcs form-control-lg" />
								</div>
							</div>
							<label class="form-label col-lg-2" for="postalCodeReadOnly">Postal code
								&nbsp</label>
							<div class="col-md-4 mb-4">

								<div class="input-group">

									<input type="number" id="postalCodeReadOnly" readonly name="SERV_PIN_CODE"
										class="form-control  form-control-lg" />
								</div>
							</div>
							<label class="form-label col-lg-2" for="BankCode(1)">Bank Code(1)
								&nbsp</label>
							<div class="col-md-4 mb-4">

								<div class="input-group">
									<select name="BANK_CODE" id="tariff" class="form-control select_tariff">
										<option value="">Select code </option>
										<option th:each="code : ${listeff_BC_BANKS}" th:value="${code.BANK_CODE}"
											th:text="${code.BANK_CODE}+'-'+${code.BANK_NAME}">
										</option>
									</select>
								</div>
							</div>

							<label class="form-label col-lg-2" for="branchCode(1)">Branch Code(1)
								&nbsp</label>
							<div class="col-md-4 mb-4">

								<div class="input-group">
									<select name="BRANCH_CODE" id="tariff" class="form-control select_tariff">
										<option value="null">Select code </option>
										<option th:each="code : ${listOf_BRANCH_CODE}"
											th:value="${code.BRANCH_CODE}" th:text="${code.BRANCH_CODE}+'-'+${code.BRANCH_NAME}">
										</option>
									</select>
								</div>
							</div>
							<label class="form-label col-lg-2" for="BankCode(2)">Bank Code(2) &nbsp</label>
							<div class="col-md-4 mb-4">

								<div class="input-group">

									<select name="BANK_CODE_1" id="tariff" class="form-control select_tariff">
										<option value="">Select code </option>
										<option th:each="code : ${listeff_BC_BANKS}" th:value="${code.BANK_CODE}"
											th:text="${code.BANK_CODE}+'-'+${code.BANK_NAME}">
										</option>
									</select>
								</div>
							</div>
							<label class="form-label col-lg-2" for="branchCode(2)">Branch Code(2)
								&nbsp</label>
							<div class="col-md-4 mb-4">
								<div class="input-group">
									<select name="BRANCH_CODE_1" id="tariff" class="form-control select_tariff">
										<option value="null">Select code </option>
										<option th:each="code : ${listOf_BRANCH_CODE}"
											th:value="${code.BRANCH_CODE}" th:text="${code.BRANCH_CODE}+'-'+${code.BRANCH_NAME}">
										</option>
									</select>
									
								</div>
							</div>
						</div>


						<div class="col-12 text-right">
							<div class="btn-group border-black " style="display: inline;" role="group"
								aria-label="Basic example">

								<button type="button" class="btn btn-primary"
									th:onclick="|window.location.href='/meterDetailsForm'|" disabled>MeterDetails</button>
								<button type="button" class="btn btn-primary"
									th:onclick="|window.location.href='/distribution'|" disabled>Distribution</button>
								<button type="submit" class="btn btn-success">Save</button>
							</div>
						</div>
			</div>
			</fieldset>
			
			<div class="row form-inline" style="margin-left: 450px;">
	
</div>
			</form>
		</div>
	</div>
	</div>



<!-- Modal -->
	<div th:if="${flag}== '1'" class="modal fade" id="myModal" tabindex="-1" role="dialog"
		aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 style="color: rgb(40, 136, 80)" class="modal-title" id="exampleModalLongTitle">
						Message</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<h1 style="color: rgb(40, 136, 80)">Successfully Save</h1>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
				</div>
			</div>
		</div>
	</div>



	<!-- JavaScript -->
	<div th:replace="fragments/links :: javaScriptLink"></div>
	

	<script>
		$('.select_supplyType').select2({
			tags: true,
			tokenSeparators: [',', ' ']
		})
	</script>

	<!-- 		location dropdown starts  -->
	<script>

		$("#locationOption").change(function () {
			var x = $("#locationOption").val();
			var url = "/api/location/" + x;
			console.log(url);
			$.ajax({
				method: "GET",
				url: url
			})
				.done(function (JsonData) {
					const zone = JsonData.zone;
					const sub_DIV = JsonData.sub_DIV;
					const div = JsonData.div;
					const circle = JsonData.circle;

					document.getElementById("zone").value = zone;
					document.getElementById("sub_div").value = sub_DIV;
					document.getElementById("Div").value = div;
					document.getElementById("circle").value = circle;

				});
		});



	</script>
	<script>

		$("#book_no").change(function () {
			var bid = $("#book_no").val();
			var lid = $("#locationOption").val();
			var url = "/api/billGrp/" + lid + "/" + bid;
			console.log(url);
			$.ajax({
				method: "GET",
				url: url
			})
				.done(function (JsonData) {
					document.getElementById("billGrp").value = JsonData;
				});
		});


	</script>
	<script>

		$("#CONSUMER_STATUS").change(function () {
			var consumer_STATUS = $("#CONSUMER_STATUS").val();

			if (consumer_STATUS == "L") {
				$("#computerConsNo").prop("readonly", false);
			}
			else {
				$("#computerConsNo").prop("readonly", true);
				const input = document.getElementById('computerConsNo');
				console.log(input)
				input.value = '';
			}

		});


	</script>

	<script>
		$(document).ready(function () {
			$("#serviceAddress").keyup(function () {
				var serviceAddress = document.getElementById('serviceAddress').value;
				document.getElementById("mailingAddress").value = serviceAddress;
			});
		});
		$(document).ready(function () {
			$("#city").keyup(function () {
				var serviceAddress = document.getElementById('city').value;
				document.getElementById("cityReadOnly").value = serviceAddress;
			});
		});
		$(document).ready(function () {
			$("#postalCode").keyup(function () {
				var serviceAddress = document.getElementById('postalCode').value;
				document.getElementById("postalCodeReadOnly").value = serviceAddress;
			});
		});
	</script>
	<script src=https://code.jquery.com/jquery-3.6.0.slim.min.js></script>
	<script src="../../../../js/jquery.fcs.js"></script>
	<script src="../../../../js/jquery.fcs.min.js"></script>
	
	<script>

		jQuery(document).ready(function ($) {
			$("#first-element").focus();
			$(document).fcs(".fcs");
		});
	</script>

	<!-- 		location dropdown ends  -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
		integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.js"
		integrity="sha512-9CWGXFSJ+/X0LWzSRCZFsOPhSfm6jbnL+Mpqo0o8Ke2SYr8rCTqb4/wGm+9n13HtDE1NQpAEOrMecDZw4FXQGg=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>

</html>